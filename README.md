# 関ヶ原の戦い RTS - Enhanced Edition

戦国時代の天下分け目の戦い「関ヶ原の戦い」をモチーフにしたリアルタイムストラテジーゲーム。

## ✨ Enhanced Edition の特徴

### 🎨 グラフィック強化
- **高精細マップ**: グラデーションと等高線により、地形の高さが直感的にわかる
- **立体感のある表現**: 山岳地帯の陰影、川の放射状グラデーション
- **洗練されたUI**: グラスモーフィズム効果、スムーズなアニメーション

### 🤖 システム強化
- **戦術的AI**: 地形優位、協調攻撃、重要目標を考慮した賢い敵AI
- **障害物回避**: A*アルゴリズムによる自動迂回ルート探索
- **拡張性の高い設計**: モジュール化されたコードベース

## 📁 ファイル構成 (モジュール化)

```
sekigahara4/
├── index.html                   # メインHTML
├── styles/
│   └── main.css                # スタイルシート
└── scripts/
    ├── constants.js            # 定数とデータ
    ├── audio.js                # 音響エンジン
    ├── map.js                  # マップシステム
    ├── rendering.js            # 描画エンジン
    ├── pathfinding.js          # パスファインディング（A*）
    ├── ai.js                   # AIシステム
    ├── combat.js               # 戦闘システム
    └── main.js                 # メインゲームループ
```

## 🎮 遊び方

1. **起動**: `index.html`をモダンブラウザで開く
2. **陣営選択**: 東軍（徳川家康）または西軍（石田三成）を選択
3. **ユニット選択**:
   - 左クリック: 単体選択
   - 左ドラッグ: 範囲選択
4. **命令**:
   - 空地左クリック: 移動命令
   - 敵ユニット左クリック: コンテキストメニュー（突撃/調略）
5. **実行**: 「全軍 行動開始」ボタンで一斉に行動
6. **勝利条件**: 敵の総大将（家康 or 三成）を討ち取る

## 🔧 技術仕様

- **Pure JavaScript** (ES6モジュール)
- **Canvas API** による描画
- **Web Audio API** による和風BGM・効果音生成
- **A* pathfinding** アルゴリズム

## 🚀 改善ポイント

### オリジナル版からの主な変更

1. **マップ描画**
   - 等高線の追加（高度3以上）
   - グラデーションによる立体感
   - 川の表現強化

2. **パスファインディング**
   - 直線パスから A*アルゴリズムに変更
   - 他のユニットを自動的に迂回

3. **AI**
   - 単純な距離計算から戦術的評価へ
   - 地形、協調攻撃、重要度を考慮

4. **コード構造**
   - 1ファイル構成からモジュール化
   - 拡張性と保守性の向上

## 📝 今後の拡張案

- 武将の家紋表示
- ミニマップ
- リプレイ機能
- 難易度設定
- マルチプレイヤー対応

## 📜 ライセンス

このプロジェクトは教育・学習目的で作成されています。

---

**Enjoy the Battle of Sekigahara! 🏯⚔️**
